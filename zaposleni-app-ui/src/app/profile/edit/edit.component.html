<div *ngIf="!errorMsg" class="container">
    <header></header>
    <div class="header-container">
        <div class="title-container">
            <div class="img-container">
                <label>
                    <img class="avatar" [src]="ImgSrcLarge"
                        (mouseenter)="imageHover()"
                        (mouseleave)="imageUnhover()"
                        alt="User avatar">
                    <input type="file" 
                        name="employeeImage"
                        (change)="onFileSelected($event)">
                </label>
            </div>
        </div>
        <div class="button-container">
            <div class="cancel-button" (click)="cancelEdit()">Cancel</div>
            <div class="save-button" (click)="saveEdit()">Save</div>
        </div>
    </div>

    <section>
        <div class="inputs">
            <label>
                <span class="label-text">Name:</span>
                <input type="text" [(ngModel)]="employee.name" 
                    required #name="ngModel">
            </label>
            <div *ngIf="name.invalid && name.touched" class="input-error input-error-text">
                <div *ngIf="name.errors.required" class="input-error-text">Field can not be empty!</div>
            </div>
            <label>
                <span class="label-text">E-Mail:</span>
                <input type="email"
                    [(ngModel)]="employee.email"
                    required #email="ngModel"
                    pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
            </label>
            <div *ngIf="email.invalid && email.touched" class="input-error">
                <div *ngIf="email.errors.required" class="input-error-text">Field can not be empty!</div>
                <div *ngIf="email.errors.pattern" class="input-error-text">Not a valid e-mail.</div>
            </div>
            <label>
                <span class="label-text">Mobile:</span>
                <input type="text" [(ngModel)]="employee.mobile_number">
            </label>
            <label id="address-label">
                <span class="label-text">Address:</span>
                <input type="text" placeholder="Street name" [(ngModel)]="employee.address_street">
            </label>
            <label>
                &nbsp;
                <input type="text" placeholder="City, Country" [(ngModel)]="employee.address_city">
            </label>
            <label>
                <span class="label-text">Birthday:</span>
                <input type="date" [(ngModel)]="employee.birthday">
            </label>
        </div>
        <div class="inputs">
            <label>
                <span class="label-text">Work Title:</span>
                <input type="text" [(ngModel)]="employee.position"
                    required #position="ngModel">
            </label>
            <div *ngIf="position.invalid && position.touched" class="input-error input-error-text">
                <div *ngIf="position.errors.required" class="input-error-text">Field can not be empty!</div>
            </div>
            <label>
                <span class="label-text">Employmed Since:</span>
                <input type="date" [(ngModel)]="employee.employment_date">
            </label>
            <label>
                <span class="label-text">Salary:</span>
                <input type="text" [(ngModel)]="employee.salary"
                    required #salary="ngModel">
            </label>
            <div *ngIf="salary.invalid && salary.touched" class="input-error input-error-text">
                <div *ngIf="salary.errors.required" class="input-error-text">Field can not be empty!</div>
            </div>
            <label>
                <span class="label-text">Superior:</span>
                <input type="text" placeholder="Superior's name" [(ngModel)]="employee.superior_name"
                    required #superior_name="ngModel">
            </label>
            <div *ngIf="superior_name.invalid && superior_name.touched" class="input-error input-error-text">
                <div *ngIf="superior_name.errors.required" class="input-error-text">Field can not be empty!</div>
            </div>
            <label>
                &nbsp;
                <input type="text" placeholder="Superior's work title" [(ngModel)]="employee.superior_position">
            </label>
        </div>
    </section>
</div>

<div *ngIf="errorMsg" class="error-container">
    <div class="error">
        <div class="error-icon"><fa-icon [icon]="faExclamationCircle" size="3x"></fa-icon></div>
        <div class="error-text">{{ errorMsg }}</div>
    </div>
</div>